Do DFS and maintain MAX at current path.